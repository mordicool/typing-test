(this.webpackJsonptyping_test=this.webpackJsonptyping_test||[]).push([[0],{20:function(e,t,c){},35:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(5),r=c.n(s),i=(c(20),c(7)),l=c.n(i),u=c(12),o=c(2),j=c(15),b=c.n(j),d=c(13),O=c.n(d),h=c(1),m=function(e){return e.toString().padStart(2,"0")},f=function(e,t,c){return"".concat(m(c),":").concat(m(t),":").concat(m(e))},x=a.a.forwardRef((function(e,t){var c=e.className,a=Object(n.useState)(0),s=Object(o.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)(0),u=Object(o.a)(l,2),j=u[0],b=u[1],d=Object(n.useState)(0),O=Object(o.a)(d,2),m=O[0],x=O[1],v=Object(n.useRef)(),p=Object(n.useCallback)((function(){v.current=setInterval((function(){r+1<100?i((function(e){return e+1})):(i(0),j+1<60?b((function(e){return e+1})):(b(0),x((function(e){return e+1}))))}),10)}),[r,j]),g=Object(n.useCallback)((function(){v.current&&(clearInterval(v.current),v.current=void 0)}),[]),N=Object(n.useCallback)((function(){g(),i(0),b(0),x(0)}),[g]),k=Object(n.useCallback)((function(){return{ms:r,seconds:j,minutes:m,fullTime:f(r,j,m)}}),[r,j,m]);return Object(n.useEffect)((function(){if(!v.current)return p(),function(){g()}}),[p,g]),Object(n.useImperativeHandle)(t,(function(){return{startTimer:p,stopTimer:g,resetTimer:N,getTime:k}}),[p,g,N,k]),Object(h.jsx)("div",{className:c,children:f(r,j,m)})})),v=c(14),p=c.n(v),g=c.p+"static/media/logo.6350d902.svg";c(34),c(35);var N=function(){var e,t=Object(n.useState)(),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!0),i=Object(o.a)(r,2),j=i[0],d=i[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),v=f[0],N=f[1],k=Object(n.useState)(!1),C=Object(o.a)(k,2),S=C[0],y=C[1],T=Object(n.useState)(!1),w=Object(o.a)(T,2),R=w[0],E=w[1],F=Object(n.useState)(""),I=Object(o.a)(F,2),H=I[0],J=I[1],_=Object(n.useState)(null),P=Object(o.a)(_,2),W=P[0],q=P[1],A=Object(n.useRef)(),B=Object(n.useCallback)((function(){d(!0),fetch("/typing").then((function(e){return e.json()})).then((function(e){s(e),d(!1)}))}),[]),M=Object(n.useCallback)((function(){s(),N(""),y(!1)}),[]);Object(n.useEffect)((function(){B()}),[B]),Object(n.useEffect)((function(){var e,t;S?null===(e=A.current)||void 0===e||e.stopTimer():null===(t=A.current)||void 0===t||t.startTimer()}),[S]);var z=Object(n.useCallback)((function(e){var t=e.target.value;a.text.startsWith(t)&&(a.text===t&&y(!0),N(t))}),[a]),D=Object(n.useCallback)((function(){B(),M(),q(null)}),[M,B]),G=Object(n.useCallback)((function(){var e,t=null===(e=A.current)||void 0===e?void 0:e.getTime();return 10*t.ms+1e3*t.seconds+1e3*t.minutes*60}),[]),K=Object(n.useCallback)(Object(u.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=G(),e.next=3,fetch("".concat("/submit_highscore","/").concat(a.id),{method:"POST",headers:{"Content-Type":"application/json"},json:!0,body:JSON.stringify({name:H,time:t})}).then((function(e){return e.json()})).then((function(e){return e.result}));case 3:if("Success"!==e.sent){e.next=9;break}return e.next=7,fetch("".concat("/highscores","/").concat(a.id,"/5")).then((function(e){return e.json()}));case 7:c=e.sent,q(c);case 9:J("");case 10:case"end":return e.stop()}}),e)}))),[G,H,a]);return Object(n.useEffect)((function(){W&&(G()<W[W.length-1].time&&alert("New Record!!"))}),[G,W]),Object(h.jsxs)("div",{className:"container",children:[S&&Object(h.jsx)(O.a,{gravity:2,recycle:!1}),Object(h.jsxs)("div",{className:"header",children:["Welcome!",Object(h.jsx)("img",{className:"logo",src:g,alt:"logo"})]}),Object(h.jsxs)("div",{className:"main ".concat(S?"complete":""),children:[Object(h.jsx)("div",{className:"loader-container",children:Object(h.jsx)(b.a,{loading:j})}),!j&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"title-row",children:[Object(h.jsx)("div",{className:"title",children:a.name}),Object(h.jsx)(x,{className:"stop-watch",ref:A})]}),Object(h.jsxs)("div",{className:"typing-container",children:[Object(h.jsx)("textarea",{className:"typing-aria placeholder",spellCheck:"false",value:a.text,disabled:!0}),Object(h.jsx)("textarea",{className:"typing-aria",autoFocus:!0,spellCheck:"false",disabled:S,value:v,onChange:z})]})]})]}),Object(h.jsx)("div",{className:"actions-section",children:S&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"action-button next-test-button",onClick:D,children:"Next"}),Object(h.jsx)("button",{className:"action-button submit-highscore",onClick:function(){return E(!0)},children:"Submit Highscore"})]})}),Object(h.jsx)(p.a,{isOpen:R,onRequestClose:function(){return E(!1)},className:"modal",ariaHideApp:!1,children:Object(h.jsx)("div",{className:"modal-content-wrapper",children:W?Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Rank"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Typing Score"})]})}),Object(h.jsx)("tbody",{children:W.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.time})]},e.name)}))})]}):Object(h.jsxs)("div",{className:"center-vertical",children:[Object(h.jsx)("label",{children:"Please enter your name:"}),Object(h.jsx)("input",{type:"text",autoFocus:!0,spellCheck:"false",value:H,onChange:function(e){return J(e.target.value)}}),Object(h.jsxs)("div",{className:"time",children:[Object(h.jsx)("b",{children:"Time:"}),Object(h.jsx)("span",{children:null===(e=A.current)||void 0===e?void 0:e.getTime().fullTime})]}),Object(h.jsx)("button",{className:"action-button second",onClick:K,children:"Submit"})]})})})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.a49c33fd.chunk.js.map