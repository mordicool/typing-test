(this.webpackJsonptyping_test=this.webpackJsonptyping_test||[]).push([[0],{20:function(e,t,c){},22:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(5),r=c.n(s),i=(c(20),c(7)),l=c.n(i),u=c(12),o=c(2),j=(c(22),c.p+"static/media/logo.6350d902.svg"),b=c(15),d=c.n(b),O=c(13),h=c.n(O),m=c(1),f=function(e){return e.toString().padStart(2,"0")},x=function(e,t,c){return"".concat(f(c),":").concat(f(t),":").concat(f(e))},v=a.a.forwardRef((function(e,t){var c=e.className,a=Object(n.useState)(0),s=Object(o.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)(0),u=Object(o.a)(l,2),j=u[0],b=u[1],d=Object(n.useState)(0),O=Object(o.a)(d,2),h=O[0],f=O[1],v=Object(n.useRef)(),p=Object(n.useCallback)((function(){v.current=setInterval((function(){r+1<100?i((function(e){return e+1})):(i(0),j+1<60?b((function(e){return e+1})):(b(0),f((function(e){return e+1}))))}),10)}),[r,j]),g=Object(n.useCallback)((function(){v.current&&(clearInterval(v.current),v.current=void 0)}),[]),N=Object(n.useCallback)((function(){g(),i(0),b(0),f(0)}),[g]),k=Object(n.useCallback)((function(){return{ms:r,seconds:j,minutes:h,fullTime:x(r,j,h)}}),[r,j,h]);return Object(n.useEffect)((function(){if(!v.current)return p(),function(){g()}}),[p,g]),Object(n.useImperativeHandle)(t,(function(){return{startTimer:p,stopTimer:g,resetTimer:N,getTime:k}}),[p,g,N,k]),Object(m.jsx)("div",{className:c,children:x(r,j,h)})})),p=c(14),g=c.n(p),N=(c(35),"http://localhost:5000");var k=function(){var e,t=Object(n.useState)(),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!0),i=Object(o.a)(r,2),b=i[0],O=i[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),p=x[0],k=x[1],C=Object(n.useState)(!1),S=Object(o.a)(C,2),y=S[0],T=S[1],w=Object(n.useState)(!1),R=Object(o.a)(w,2),E=R[0],F=R[1],I=Object(n.useState)(""),H=Object(o.a)(I,2),J=H[0],_=H[1],P=Object(n.useState)(null),W=Object(o.a)(P,2),q=W[0],A=W[1],B=Object(n.useRef)(),M=Object(n.useCallback)((function(){O(!0),fetch(N+"/typing").then((function(e){return e.json()})).then((function(e){s(e),O(!1)}))}),[]),z=Object(n.useCallback)((function(){s(),k(""),T(!1)}),[]);Object(n.useEffect)((function(){M()}),[M]),Object(n.useEffect)((function(){var e,t;y?null===(e=B.current)||void 0===e||e.stopTimer():null===(t=B.current)||void 0===t||t.startTimer()}),[y]);var D=Object(n.useCallback)((function(e){var t=e.target.value;a.text.startsWith(t)&&(a.text===t&&T(!0),k(t))}),[a]),G=Object(n.useCallback)((function(){M(),z(),A(null)}),[z,M]),K=Object(n.useCallback)((function(){var e,t=null===(e=B.current)||void 0===e?void 0:e.getTime();return 10*t.ms+1e3*t.seconds+1e3*t.minutes*60}),[]),L=Object(n.useCallback)(Object(u.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=K(),e.next=3,fetch("".concat(N,"/submit_highscore/").concat(a.id),{method:"POST",headers:{"Content-Type":"application/json"},json:!0,body:JSON.stringify({name:J,time:t})}).then((function(e){return e.json()})).then((function(e){return e.result}));case 3:if("Success"!==e.sent){e.next=9;break}return e.next=7,fetch("".concat(N,"/highscores/").concat(a.id,"/5")).then((function(e){return e.json()}));case 7:c=e.sent,A(c);case 9:_("");case 10:case"end":return e.stop()}}),e)}))),[K,J,a]);return Object(n.useEffect)((function(){q&&(K()<q[q.length-1].time&&alert("New Record!!"))}),[K,q]),Object(m.jsxs)("div",{className:"container",children:[y&&Object(m.jsx)(h.a,{gravity:2,recycle:!1}),Object(m.jsxs)("div",{className:"header",children:["Welcome!",Object(m.jsx)("img",{className:"logo",src:j,alt:"logo"})]}),Object(m.jsxs)("div",{className:"main ".concat(y?"complete":""),children:[Object(m.jsx)("div",{className:"loader-container",children:Object(m.jsx)(d.a,{loading:b})}),!b&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"title-row",children:[Object(m.jsx)("div",{className:"title",children:a.name}),Object(m.jsx)(v,{className:"stop-watch",ref:B})]}),Object(m.jsxs)("div",{className:"typing-container",children:[Object(m.jsx)("textarea",{className:"typing-aria placeholder",spellCheck:"false",value:a.text,disabled:!0}),Object(m.jsx)("textarea",{className:"typing-aria",autoFocus:!0,spellCheck:"false",disabled:y,value:p,onChange:D})]})]})]}),Object(m.jsx)("div",{className:"actions-section",children:y&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"action-button next-test-button",onClick:G,children:"Next"}),Object(m.jsx)("button",{className:"action-button submit-highscore",onClick:function(){return F(!0)},children:"Submit Highscore"})]})}),Object(m.jsx)(g.a,{isOpen:E,onRequestClose:function(){return F(!1)},className:"modal",ariaHideApp:!1,children:Object(m.jsx)("div",{className:"modal-content-wrapper",children:q?Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Rank"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Typing Score"})]})}),Object(m.jsx)("tbody",{children:q.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:e.time})]},e.name)}))})]}):Object(m.jsxs)("div",{className:"center-vertical",children:[Object(m.jsx)("label",{children:"Please enter your name:"}),Object(m.jsx)("input",{type:"text",autoFocus:!0,spellCheck:"false",value:J,onChange:function(e){return _(e.target.value)}}),Object(m.jsxs)("div",{className:"time",children:[Object(m.jsx)("b",{children:"Time:"}),Object(m.jsx)("span",{children:null===(e=B.current)||void 0===e?void 0:e.getTime().fullTime})]}),Object(m.jsx)("button",{className:"action-button second",onClick:L,children:"Submit"})]})})})]})};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c8821d9e.chunk.js.map